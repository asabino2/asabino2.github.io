openapi: 3.0.0
info:
  title: streamproxy
  description: StreamProxy's API
  version: 1.0.0
servers:
  - description: SwaggerHub API Auto Mocking
    url: 'https://virtserver.swaggerhub.com/asabino2/streamproxy/1.0.0'
  - url: 'http://localhost:4211'
components:
  securitySchemes:
    basicAuth:
      type: http
      scheme: basic
paths:
  /api/checkstream:
    get:
      tags:
        - stream data
      summary: stream check
      description: 'checks if a stream is online or offline, the output will be in json format'
      parameters:
        - name: url
          in: query
          schema:
            type: string
          description: url of livestream
          example: 'https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  streamurl:
                    type: string
                  streamstatus:
                    type: string
                  mensagem:
                    type: string
                x-examples:
                  example-1:
                    streamurl: 'https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8'
                    streamstatus: online
                    mensagem: ''
              example:
                streamurl: 'https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8'
                streamstatus: online
                mensagem: ''
  /api/streaminfo:
    get:
      tags:
        - stream data
      summary: retrieve livestream information
      description: 'Retrieve livestream information through ffprobe, output will be in json format'
      parameters:
        - name: url
          in: query
          schema:
            type: string
          description: url of livestream
          example: 'https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  programs:
                    type: array
                    items:
                      type: object
                      properties:
                        program_id:
                          type: integer
                        program_num:
                          type: integer
                        nb_streams:
                          type: integer
                        pmt_pid:
                          type: integer
                        pcr_pid:
                          type: integer
                        tags:
                          type: object
                          properties:
                            variant_bitrate:
                              type: string
                        streams:
                          type: array
                          items:
                            type: object
                            properties:
                              index:
                                type: integer
                              codec_name:
                                type: string
                              codec_long_name:
                                type: string
                              codec_type:
                                type: string
                              codec_tag_string:
                                type: string
                              codec_tag:
                                type: string
                              r_frame_rate:
                                type: string
                              avg_frame_rate:
                                type: string
                              time_base:
                                type: string
                              disposition:
                                type: object
                                properties:
                                  default:
                                    type: integer
                                  dub:
                                    type: integer
                                  original:
                                    type: integer
                                  comment:
                                    type: integer
                                  lyrics:
                                    type: integer
                                  karaoke:
                                    type: integer
                                  forced:
                                    type: integer
                                  hearing_impaired:
                                    type: integer
                                  visual_impaired:
                                    type: integer
                                  clean_effects:
                                    type: integer
                                  attached_pic:
                                    type: integer
                                  timed_thumbnails:
                                    type: integer
                                  captions:
                                    type: integer
                                  descriptions:
                                    type: integer
                                  metadata:
                                    type: integer
                                  dependent:
                                    type: integer
                                  still_image:
                                    type: integer
                              tags:
                                type: object
                                properties:
                                  variant_bitrate:
                                    type: string
                              width:
                                type: integer
                              height:
                                type: integer
                              coded_width:
                                type: integer
                              coded_height:
                                type: integer
                              closed_captions:
                                type: integer
                              film_grain:
                                type: integer
                              has_b_frames:
                                type: integer
                              level:
                                type: integer
                              refs:
                                type: integer
                              is_avc:
                                type: string
                              nal_length_size:
                                type: string
                              sample_fmt:
                                type: string
                              sample_rate:
                                type: string
                              channels:
                                type: integer
                              bits_per_sample:
                                type: integer
                              profile:
                                type: string
                              pix_fmt:
                                type: string
                              chroma_location:
                                type: string
                              start_pts:
                                type: integer
                              start_time:
                                type: string
                              bits_per_raw_sample:
                                type: string
                              extradata_size:
                                type: integer
                              channel_layout:
                                type: string
                  streams:
                    type: array
                    items:
                      type: object
                      properties:
                        index:
                          type: integer
                        codec_name:
                          type: string
                        codec_long_name:
                          type: string
                        codec_type:
                          type: string
                        codec_tag_string:
                          type: string
                        codec_tag:
                          type: string
                        r_frame_rate:
                          type: string
                        avg_frame_rate:
                          type: string
                        time_base:
                          type: string
                        disposition:
                          type: object
                          properties:
                            default:
                              type: integer
                            dub:
                              type: integer
                            original:
                              type: integer
                            comment:
                              type: integer
                            lyrics:
                              type: integer
                            karaoke:
                              type: integer
                            forced:
                              type: integer
                            hearing_impaired:
                              type: integer
                            visual_impaired:
                              type: integer
                            clean_effects:
                              type: integer
                            attached_pic:
                              type: integer
                            timed_thumbnails:
                              type: integer
                            captions:
                              type: integer
                            descriptions:
                              type: integer
                            metadata:
                              type: integer
                            dependent:
                              type: integer
                            still_image:
                              type: integer
                        tags:
                          type: object
                          properties:
                            variant_bitrate:
                              type: string
                        profile:
                          type: string
                        width:
                          type: integer
                        height:
                          type: integer
                        coded_width:
                          type: integer
                        coded_height:
                          type: integer
                        closed_captions:
                          type: integer
                        film_grain:
                          type: integer
                        has_b_frames:
                          type: integer
                        pix_fmt:
                          type: string
                        level:
                          type: integer
                        chroma_location:
                          type: string
                        refs:
                          type: integer
                        is_avc:
                          type: string
                        nal_length_size:
                          type: string
                        start_pts:
                          type: integer
                        start_time:
                          type: string
                        bits_per_raw_sample:
                          type: string
                        extradata_size:
                          type: integer
                        sample_fmt:
                          type: string
                        sample_rate:
                          type: string
                        channels:
                          type: integer
                        channel_layout:
                          type: string
                        bits_per_sample:
                          type: integer
                  format:
                    type: object
                    properties:
                      filename:
                        type: string
                      nb_streams:
                        type: integer
                      nb_programs:
                        type: integer
                      format_name:
                        type: string
                      format_long_name:
                        type: string
                      start_time:
                        type: string
                      size:
                        type: string
                      probe_score:
                        type: integer
                x-examples:
                  example-1:
                    programs:
                      - program_id: 0
                        program_num: 0
                        nb_streams: 3
                        pmt_pid: 0
                        pcr_pid: 0
                        tags:
                          variant_bitrate: '1000000'
                        streams:
                          - index: 0
                            codec_name: timed_id3
                            codec_long_name: timed ID3 metadata
                            codec_type: data
                            codec_tag_string: 'ID3 '
                            codec_tag: '0x20334449'
                            r_frame_rate: 0/0
                            avg_frame_rate: 0/0
                            time_base: 1/90000
                            disposition:
                              default: 0
                              dub: 0
                              original: 0
                              comment: 0
                              lyrics: 0
                              karaoke: 0
                              forced: 0
                              hearing_impaired: 0
                              visual_impaired: 0
                              clean_effects: 0
                              attached_pic: 0
                              timed_thumbnails: 0
                              captions: 0
                              descriptions: 0
                              metadata: 0
                              dependent: 0
                              still_image: 0
                            tags:
                              variant_bitrate: '1000000'
                          - index: 1
                            codec_name: h264
                            codec_long_name: H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10
                            codec_type: video
                            codec_tag_string: '[27][0][0][0]'
                            codec_tag: '0x001b'
                            width: 0
                            height: 0
                            coded_width: 0
                            coded_height: 0
                            closed_captions: 0
                            film_grain: 0
                            has_b_frames: 0
                            level: -99
                            refs: 1
                            is_avc: 'false'
                            nal_length_size: '0'
                            r_frame_rate: 90000/1
                            avg_frame_rate: 0/0
                            time_base: 1/90000
                            disposition:
                              default: 0
                              dub: 0
                              original: 0
                              comment: 0
                              lyrics: 0
                              karaoke: 0
                              forced: 0
                              hearing_impaired: 0
                              visual_impaired: 0
                              clean_effects: 0
                              attached_pic: 0
                              timed_thumbnails: 0
                              captions: 0
                              descriptions: 0
                              metadata: 0
                              dependent: 0
                              still_image: 0
                            tags:
                              variant_bitrate: '1000000'
                          - index: 2
                            codec_name: aac
                            codec_long_name: AAC (Advanced Audio Coding)
                            codec_type: audio
                            codec_tag_string: '[15][0][0][0]'
                            codec_tag: '0x000f'
                            sample_fmt: fltp
                            sample_rate: '0'
                            channels: 0
                            bits_per_sample: 0
                            r_frame_rate: 0/0
                            avg_frame_rate: 0/0
                            time_base: 1/90000
                            disposition:
                              default: 0
                              dub: 0
                              original: 0
                              comment: 0
                              lyrics: 0
                              karaoke: 0
                              forced: 0
                              hearing_impaired: 0
                              visual_impaired: 0
                              clean_effects: 0
                              attached_pic: 0
                              timed_thumbnails: 0
                              captions: 0
                              descriptions: 0
                              metadata: 0
                              dependent: 0
                              still_image: 0
                            tags:
                              variant_bitrate: '1000000'
                      - program_id: 1
                        program_num: 0
                        nb_streams: 3
                        pmt_pid: 0
                        pcr_pid: 0
                        tags:
                          variant_bitrate: '500000'
                        streams:
                          - index: 3
                            codec_name: timed_id3
                            codec_long_name: timed ID3 metadata
                            codec_type: data
                            codec_tag_string: 'ID3 '
                            codec_tag: '0x20334449'
                            r_frame_rate: 0/0
                            avg_frame_rate: 0/0
                            time_base: 1/90000
                            disposition:
                              default: 0
                              dub: 0
                              original: 0
                              comment: 0
                              lyrics: 0
                              karaoke: 0
                              forced: 0
                              hearing_impaired: 0
                              visual_impaired: 0
                              clean_effects: 0
                              attached_pic: 0
                              timed_thumbnails: 0
                              captions: 0
                              descriptions: 0
                              metadata: 0
                              dependent: 0
                              still_image: 0
                            tags:
                              variant_bitrate: '500000'
                          - index: 4
                            codec_name: h264
                            codec_long_name: H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10
                            profile: Constrained Baseline
                            codec_type: video
                            codec_tag_string: '[27][0][0][0]'
                            codec_tag: '0x001b'
                            width: 420
                            height: 240
                            coded_width: 420
                            coded_height: 240
                            closed_captions: 0
                            film_grain: 0
                            has_b_frames: 1
                            pix_fmt: yuv420p
                            level: 31
                            chroma_location: left
                            refs: 1
                            is_avc: 'false'
                            nal_length_size: '0'
                            r_frame_rate: 25/1
                            avg_frame_rate: 25/1
                            time_base: 1/90000
                            start_pts: 8122327728
                            start_time: '90248.085867'
                            bits_per_raw_sample: '8'
                            extradata_size: 47
                            disposition:
                              default: 0
                              dub: 0
                              original: 0
                              comment: 0
                              lyrics: 0
                              karaoke: 0
                              forced: 0
                              hearing_impaired: 0
                              visual_impaired: 0
                              clean_effects: 0
                              attached_pic: 0
                              timed_thumbnails: 0
                              captions: 0
                              descriptions: 0
                              metadata: 0
                              dependent: 0
                              still_image: 0
                            tags:
                              variant_bitrate: '500000'
                          - index: 5
                            codec_name: aac
                            codec_long_name: AAC (Advanced Audio Coding)
                            profile: LC
                            codec_type: audio
                            codec_tag_string: '[15][0][0][0]'
                            codec_tag: '0x000f'
                            sample_fmt: fltp
                            sample_rate: '48000'
                            channels: 2
                            channel_layout: stereo
                            bits_per_sample: 0
                            r_frame_rate: 0/0
                            avg_frame_rate: 0/0
                            time_base: 1/90000
                            start_pts: 8122324398
                            start_time: '90248.048867'
                            disposition:
                              default: 0
                              dub: 0
                              original: 0
                              comment: 0
                              lyrics: 0
                              karaoke: 0
                              forced: 0
                              hearing_impaired: 0
                              visual_impaired: 0
                              clean_effects: 0
                              attached_pic: 0
                              timed_thumbnails: 0
                              captions: 0
                              descriptions: 0
                              metadata: 0
                              dependent: 0
                              still_image: 0
                            tags:
                              variant_bitrate: '500000'
                      - program_id: 2
                        program_num: 0
                        nb_streams: 3
                        pmt_pid: 0
                        pcr_pid: 0
                        tags:
                          variant_bitrate: '1500000'
                        streams:
                          - index: 6
                            codec_name: timed_id3
                            codec_long_name: timed ID3 metadata
                            codec_type: data
                            codec_tag_string: 'ID3 '
                            codec_tag: '0x20334449'
                            r_frame_rate: 0/0
                            avg_frame_rate: 0/0
                            time_base: 1/90000
                            disposition:
                              default: 0
                              dub: 0
                              original: 0
                              comment: 0
                              lyrics: 0
                              karaoke: 0
                              forced: 0
                              hearing_impaired: 0
                              visual_impaired: 0
                              clean_effects: 0
                              attached_pic: 0
                              timed_thumbnails: 0
                              captions: 0
                              descriptions: 0
                              metadata: 0
                              dependent: 0
                              still_image: 0
                            tags:
                              variant_bitrate: '1500000'
                          - index: 7
                            codec_name: h264
                            codec_long_name: H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10
                            profile: Main
                            codec_type: video
                            codec_tag_string: '[27][0][0][0]'
                            codec_tag: '0x001b'
                            width: 1024
                            height: 576
                            coded_width: 1024
                            coded_height: 576
                            closed_captions: 0
                            film_grain: 0
                            has_b_frames: 1
                            pix_fmt: yuv420p
                            level: 31
                            chroma_location: left
                            refs: 1
                            is_avc: 'false'
                            nal_length_size: '0'
                            r_frame_rate: 25/1
                            avg_frame_rate: 25/1
                            time_base: 1/90000
                            start_pts: 8122329618
                            start_time: '90248.106867'
                            bits_per_raw_sample: '8'
                            extradata_size: 48
                            disposition:
                              default: 0
                              dub: 0
                              original: 0
                              comment: 0
                              lyrics: 0
                              karaoke: 0
                              forced: 0
                              hearing_impaired: 0
                              visual_impaired: 0
                              clean_effects: 0
                              attached_pic: 0
                              timed_thumbnails: 0
                              captions: 0
                              descriptions: 0
                              metadata: 0
                              dependent: 0
                              still_image: 0
                            tags:
                              variant_bitrate: '1500000'
                          - index: 8
                            codec_name: aac
                            codec_long_name: AAC (Advanced Audio Coding)
                            profile: LC
                            codec_type: audio
                            codec_tag_string: '[15][0][0][0]'
                            codec_tag: '0x000f'
                            sample_fmt: fltp
                            sample_rate: '48000'
                            channels: 2
                            channel_layout: stereo
                            bits_per_sample: 0
                            r_frame_rate: 0/0
                            avg_frame_rate: 0/0
                            time_base: 1/90000
                            start_pts: 8122326468
                            start_time: '90248.071867'
                            disposition:
                              default: 0
                              dub: 0
                              original: 0
                              comment: 0
                              lyrics: 0
                              karaoke: 0
                              forced: 0
                              hearing_impaired: 0
                              visual_impaired: 0
                              clean_effects: 0
                              attached_pic: 0
                              timed_thumbnails: 0
                              captions: 0
                              descriptions: 0
                              metadata: 0
                              dependent: 0
                              still_image: 0
                            tags:
                              variant_bitrate: '1500000'
                    streams:
                      - index: 0
                        codec_name: timed_id3
                        codec_long_name: timed ID3 metadata
                        codec_type: data
                        codec_tag_string: 'ID3 '
                        codec_tag: '0x20334449'
                        r_frame_rate: 0/0
                        avg_frame_rate: 0/0
                        time_base: 1/90000
                        disposition:
                          default: 0
                          dub: 0
                          original: 0
                          comment: 0
                          lyrics: 0
                          karaoke: 0
                          forced: 0
                          hearing_impaired: 0
                          visual_impaired: 0
                          clean_effects: 0
                          attached_pic: 0
                          timed_thumbnails: 0
                          captions: 0
                          descriptions: 0
                          metadata: 0
                          dependent: 0
                          still_image: 0
                        tags:
                          variant_bitrate: '1000000'
                      - index: 1
                        codec_name: h264
                        codec_long_name: H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10
                        codec_type: video
                        codec_tag_string: '[27][0][0][0]'
                        codec_tag: '0x001b'
                        width: 0
                        height: 0
                        coded_width: 0
                        coded_height: 0
                        closed_captions: 0
                        film_grain: 0
                        has_b_frames: 0
                        level: -99
                        refs: 1
                        is_avc: 'false'
                        nal_length_size: '0'
                        r_frame_rate: 90000/1
                        avg_frame_rate: 0/0
                        time_base: 1/90000
                        disposition:
                          default: 0
                          dub: 0
                          original: 0
                          comment: 0
                          lyrics: 0
                          karaoke: 0
                          forced: 0
                          hearing_impaired: 0
                          visual_impaired: 0
                          clean_effects: 0
                          attached_pic: 0
                          timed_thumbnails: 0
                          captions: 0
                          descriptions: 0
                          metadata: 0
                          dependent: 0
                          still_image: 0
                        tags:
                          variant_bitrate: '1000000'
                      - index: 2
                        codec_name: aac
                        codec_long_name: AAC (Advanced Audio Coding)
                        codec_type: audio
                        codec_tag_string: '[15][0][0][0]'
                        codec_tag: '0x000f'
                        sample_fmt: fltp
                        sample_rate: '0'
                        channels: 0
                        bits_per_sample: 0
                        r_frame_rate: 0/0
                        avg_frame_rate: 0/0
                        time_base: 1/90000
                        disposition:
                          default: 0
                          dub: 0
                          original: 0
                          comment: 0
                          lyrics: 0
                          karaoke: 0
                          forced: 0
                          hearing_impaired: 0
                          visual_impaired: 0
                          clean_effects: 0
                          attached_pic: 0
                          timed_thumbnails: 0
                          captions: 0
                          descriptions: 0
                          metadata: 0
                          dependent: 0
                          still_image: 0
                        tags:
                          variant_bitrate: '1000000'
                      - index: 3
                        codec_name: timed_id3
                        codec_long_name: timed ID3 metadata
                        codec_type: data
                        codec_tag_string: 'ID3 '
                        codec_tag: '0x20334449'
                        r_frame_rate: 0/0
                        avg_frame_rate: 0/0
                        time_base: 1/90000
                        disposition:
                          default: 0
                          dub: 0
                          original: 0
                          comment: 0
                          lyrics: 0
                          karaoke: 0
                          forced: 0
                          hearing_impaired: 0
                          visual_impaired: 0
                          clean_effects: 0
                          attached_pic: 0
                          timed_thumbnails: 0
                          captions: 0
                          descriptions: 0
                          metadata: 0
                          dependent: 0
                          still_image: 0
                        tags:
                          variant_bitrate: '500000'
                      - index: 4
                        codec_name: h264
                        codec_long_name: H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10
                        profile: Constrained Baseline
                        codec_type: video
                        codec_tag_string: '[27][0][0][0]'
                        codec_tag: '0x001b'
                        width: 420
                        height: 240
                        coded_width: 420
                        coded_height: 240
                        closed_captions: 0
                        film_grain: 0
                        has_b_frames: 1
                        pix_fmt: yuv420p
                        level: 31
                        chroma_location: left
                        refs: 1
                        is_avc: 'false'
                        nal_length_size: '0'
                        r_frame_rate: 25/1
                        avg_frame_rate: 25/1
                        time_base: 1/90000
                        start_pts: 8122327728
                        start_time: '90248.085867'
                        bits_per_raw_sample: '8'
                        extradata_size: 47
                        disposition:
                          default: 0
                          dub: 0
                          original: 0
                          comment: 0
                          lyrics: 0
                          karaoke: 0
                          forced: 0
                          hearing_impaired: 0
                          visual_impaired: 0
                          clean_effects: 0
                          attached_pic: 0
                          timed_thumbnails: 0
                          captions: 0
                          descriptions: 0
                          metadata: 0
                          dependent: 0
                          still_image: 0
                        tags:
                          variant_bitrate: '500000'
                      - index: 5
                        codec_name: aac
                        codec_long_name: AAC (Advanced Audio Coding)
                        profile: LC
                        codec_type: audio
                        codec_tag_string: '[15][0][0][0]'
                        codec_tag: '0x000f'
                        sample_fmt: fltp
                        sample_rate: '48000'
                        channels: 2
                        channel_layout: stereo
                        bits_per_sample: 0
                        r_frame_rate: 0/0
                        avg_frame_rate: 0/0
                        time_base: 1/90000
                        start_pts: 8122324398
                        start_time: '90248.048867'
                        disposition:
                          default: 0
                          dub: 0
                          original: 0
                          comment: 0
                          lyrics: 0
                          karaoke: 0
                          forced: 0
                          hearing_impaired: 0
                          visual_impaired: 0
                          clean_effects: 0
                          attached_pic: 0
                          timed_thumbnails: 0
                          captions: 0
                          descriptions: 0
                          metadata: 0
                          dependent: 0
                          still_image: 0
                        tags:
                          variant_bitrate: '500000'
                      - index: 6
                        codec_name: timed_id3
                        codec_long_name: timed ID3 metadata
                        codec_type: data
                        codec_tag_string: 'ID3 '
                        codec_tag: '0x20334449'
                        r_frame_rate: 0/0
                        avg_frame_rate: 0/0
                        time_base: 1/90000
                        disposition:
                          default: 0
                          dub: 0
                          original: 0
                          comment: 0
                          lyrics: 0
                          karaoke: 0
                          forced: 0
                          hearing_impaired: 0
                          visual_impaired: 0
                          clean_effects: 0
                          attached_pic: 0
                          timed_thumbnails: 0
                          captions: 0
                          descriptions: 0
                          metadata: 0
                          dependent: 0
                          still_image: 0
                        tags:
                          variant_bitrate: '1500000'
                      - index: 7
                        codec_name: h264
                        codec_long_name: H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10
                        profile: Main
                        codec_type: video
                        codec_tag_string: '[27][0][0][0]'
                        codec_tag: '0x001b'
                        width: 1024
                        height: 576
                        coded_width: 1024
                        coded_height: 576
                        closed_captions: 0
                        film_grain: 0
                        has_b_frames: 1
                        pix_fmt: yuv420p
                        level: 31
                        chroma_location: left
                        refs: 1
                        is_avc: 'false'
                        nal_length_size: '0'
                        r_frame_rate: 25/1
                        avg_frame_rate: 25/1
                        time_base: 1/90000
                        start_pts: 8122329618
                        start_time: '90248.106867'
                        bits_per_raw_sample: '8'
                        extradata_size: 48
                        disposition:
                          default: 0
                          dub: 0
                          original: 0
                          comment: 0
                          lyrics: 0
                          karaoke: 0
                          forced: 0
                          hearing_impaired: 0
                          visual_impaired: 0
                          clean_effects: 0
                          attached_pic: 0
                          timed_thumbnails: 0
                          captions: 0
                          descriptions: 0
                          metadata: 0
                          dependent: 0
                          still_image: 0
                        tags:
                          variant_bitrate: '1500000'
                      - index: 8
                        codec_name: aac
                        codec_long_name: AAC (Advanced Audio Coding)
                        profile: LC
                        codec_type: audio
                        codec_tag_string: '[15][0][0][0]'
                        codec_tag: '0x000f'
                        sample_fmt: fltp
                        sample_rate: '48000'
                        channels: 2
                        channel_layout: stereo
                        bits_per_sample: 0
                        r_frame_rate: 0/0
                        avg_frame_rate: 0/0
                        time_base: 1/90000
                        start_pts: 8122326468
                        start_time: '90248.071867'
                        disposition:
                          default: 0
                          dub: 0
                          original: 0
                          comment: 0
                          lyrics: 0
                          karaoke: 0
                          forced: 0
                          hearing_impaired: 0
                          visual_impaired: 0
                          clean_effects: 0
                          attached_pic: 0
                          timed_thumbnails: 0
                          captions: 0
                          descriptions: 0
                          metadata: 0
                          dependent: 0
                          still_image: 0
                        tags:
                          variant_bitrate: '1500000'
                    format:
                      filename: 'https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8'
                      nb_streams: 9
                      nb_programs: 3
                      format_name: hls
                      format_long_name: Apple HTTP Live Streaming
                      start_time: '90248.048867'
                      size: '203'
                      probe_score: 100
              example:
                programs:
                  - program_id: 0
                    program_num: 0
                    nb_streams: 3
                    pmt_pid: 0
                    pcr_pid: 0
                    tags:
                      variant_bitrate: '1000000'
                    streams:
                      - index: 0
                        codec_name: timed_id3
                        codec_long_name: timed ID3 metadata
                        codec_type: data
                        codec_tag_string: 'ID3 '
                        codec_tag: '0x20334449'
                        r_frame_rate: 0/0
                        avg_frame_rate: 0/0
                        time_base: 1/90000
                        disposition:
                          default: 0
                          dub: 0
                          original: 0
                          comment: 0
                          lyrics: 0
                          karaoke: 0
                          forced: 0
                          hearing_impaired: 0
                          visual_impaired: 0
                          clean_effects: 0
                          attached_pic: 0
                          timed_thumbnails: 0
                          captions: 0
                          descriptions: 0
                          metadata: 0
                          dependent: 0
                          still_image: 0
                        tags:
                          variant_bitrate: '1000000'
                      - index: 1
                        codec_name: h264
                        codec_long_name: H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10
                        codec_type: video
                        codec_tag_string: '[27][0][0][0]'
                        codec_tag: '0x001b'
                        width: 0
                        height: 0
                        coded_width: 0
                        coded_height: 0
                        closed_captions: 0
                        film_grain: 0
                        has_b_frames: 0
                        level: -99
                        refs: 1
                        is_avc: 'false'
                        nal_length_size: '0'
                        r_frame_rate: 90000/1
                        avg_frame_rate: 0/0
                        time_base: 1/90000
                        disposition:
                          default: 0
                          dub: 0
                          original: 0
                          comment: 0
                          lyrics: 0
                          karaoke: 0
                          forced: 0
                          hearing_impaired: 0
                          visual_impaired: 0
                          clean_effects: 0
                          attached_pic: 0
                          timed_thumbnails: 0
                          captions: 0
                          descriptions: 0
                          metadata: 0
                          dependent: 0
                          still_image: 0
                        tags:
                          variant_bitrate: '1000000'
                      - index: 2
                        codec_name: aac
                        codec_long_name: AAC (Advanced Audio Coding)
                        codec_type: audio
                        codec_tag_string: '[15][0][0][0]'
                        codec_tag: '0x000f'
                        sample_fmt: fltp
                        sample_rate: '0'
                        channels: 0
                        bits_per_sample: 0
                        r_frame_rate: 0/0
                        avg_frame_rate: 0/0
                        time_base: 1/90000
                        disposition:
                          default: 0
                          dub: 0
                          original: 0
                          comment: 0
                          lyrics: 0
                          karaoke: 0
                          forced: 0
                          hearing_impaired: 0
                          visual_impaired: 0
                          clean_effects: 0
                          attached_pic: 0
                          timed_thumbnails: 0
                          captions: 0
                          descriptions: 0
                          metadata: 0
                          dependent: 0
                          still_image: 0
                        tags:
                          variant_bitrate: '1000000'
                  - program_id: 1
                    program_num: 0
                    nb_streams: 3
                    pmt_pid: 0
                    pcr_pid: 0
                    tags:
                      variant_bitrate: '500000'
                    streams:
                      - index: 3
                        codec_name: timed_id3
                        codec_long_name: timed ID3 metadata
                        codec_type: data
                        codec_tag_string: 'ID3 '
                        codec_tag: '0x20334449'
                        r_frame_rate: 0/0
                        avg_frame_rate: 0/0
                        time_base: 1/90000
                        disposition:
                          default: 0
                          dub: 0
                          original: 0
                          comment: 0
                          lyrics: 0
                          karaoke: 0
                          forced: 0
                          hearing_impaired: 0
                          visual_impaired: 0
                          clean_effects: 0
                          attached_pic: 0
                          timed_thumbnails: 0
                          captions: 0
                          descriptions: 0
                          metadata: 0
                          dependent: 0
                          still_image: 0
                        tags:
                          variant_bitrate: '500000'
                      - index: 4
                        codec_name: h264
                        codec_long_name: H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10
                        profile: Constrained Baseline
                        codec_type: video
                        codec_tag_string: '[27][0][0][0]'
                        codec_tag: '0x001b'
                        width: 420
                        height: 240
                        coded_width: 420
                        coded_height: 240
                        closed_captions: 0
                        film_grain: 0
                        has_b_frames: 1
                        pix_fmt: yuv420p
                        level: 31
                        chroma_location: left
                        refs: 1
                        is_avc: 'false'
                        nal_length_size: '0'
                        r_frame_rate: 25/1
                        avg_frame_rate: 25/1
                        time_base: 1/90000
                        start_pts: 8122327728
                        start_time: '90248.085867'
                        bits_per_raw_sample: '8'
                        extradata_size: 47
                        disposition:
                          default: 0
                          dub: 0
                          original: 0
                          comment: 0
                          lyrics: 0
                          karaoke: 0
                          forced: 0
                          hearing_impaired: 0
                          visual_impaired: 0
                          clean_effects: 0
                          attached_pic: 0
                          timed_thumbnails: 0
                          captions: 0
                          descriptions: 0
                          metadata: 0
                          dependent: 0
                          still_image: 0
                        tags:
                          variant_bitrate: '500000'
                      - index: 5
                        codec_name: aac
                        codec_long_name: AAC (Advanced Audio Coding)
                        profile: LC
                        codec_type: audio
                        codec_tag_string: '[15][0][0][0]'
                        codec_tag: '0x000f'
                        sample_fmt: fltp
                        sample_rate: '48000'
                        channels: 2
                        channel_layout: stereo
                        bits_per_sample: 0
                        r_frame_rate: 0/0
                        avg_frame_rate: 0/0
                        time_base: 1/90000
                        start_pts: 8122324398
                        start_time: '90248.048867'
                        disposition:
                          default: 0
                          dub: 0
                          original: 0
                          comment: 0
                          lyrics: 0
                          karaoke: 0
                          forced: 0
                          hearing_impaired: 0
                          visual_impaired: 0
                          clean_effects: 0
                          attached_pic: 0
                          timed_thumbnails: 0
                          captions: 0
                          descriptions: 0
                          metadata: 0
                          dependent: 0
                          still_image: 0
                        tags:
                          variant_bitrate: '500000'
                  - program_id: 2
                    program_num: 0
                    nb_streams: 3
                    pmt_pid: 0
                    pcr_pid: 0
                    tags:
                      variant_bitrate: '1500000'
                    streams:
                      - index: 6
                        codec_name: timed_id3
                        codec_long_name: timed ID3 metadata
                        codec_type: data
                        codec_tag_string: 'ID3 '
                        codec_tag: '0x20334449'
                        r_frame_rate: 0/0
                        avg_frame_rate: 0/0
                        time_base: 1/90000
                        disposition:
                          default: 0
                          dub: 0
                          original: 0
                          comment: 0
                          lyrics: 0
                          karaoke: 0
                          forced: 0
                          hearing_impaired: 0
                          visual_impaired: 0
                          clean_effects: 0
                          attached_pic: 0
                          timed_thumbnails: 0
                          captions: 0
                          descriptions: 0
                          metadata: 0
                          dependent: 0
                          still_image: 0
                        tags:
                          variant_bitrate: '1500000'
                      - index: 7
                        codec_name: h264
                        codec_long_name: H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10
                        profile: Main
                        codec_type: video
                        codec_tag_string: '[27][0][0][0]'
                        codec_tag: '0x001b'
                        width: 1024
                        height: 576
                        coded_width: 1024
                        coded_height: 576
                        closed_captions: 0
                        film_grain: 0
                        has_b_frames: 1
                        pix_fmt: yuv420p
                        level: 31
                        chroma_location: left
                        refs: 1
                        is_avc: 'false'
                        nal_length_size: '0'
                        r_frame_rate: 25/1
                        avg_frame_rate: 25/1
                        time_base: 1/90000
                        start_pts: 8122329618
                        start_time: '90248.106867'
                        bits_per_raw_sample: '8'
                        extradata_size: 48
                        disposition:
                          default: 0
                          dub: 0
                          original: 0
                          comment: 0
                          lyrics: 0
                          karaoke: 0
                          forced: 0
                          hearing_impaired: 0
                          visual_impaired: 0
                          clean_effects: 0
                          attached_pic: 0
                          timed_thumbnails: 0
                          captions: 0
                          descriptions: 0
                          metadata: 0
                          dependent: 0
                          still_image: 0
                        tags:
                          variant_bitrate: '1500000'
                      - index: 8
                        codec_name: aac
                        codec_long_name: AAC (Advanced Audio Coding)
                        profile: LC
                        codec_type: audio
                        codec_tag_string: '[15][0][0][0]'
                        codec_tag: '0x000f'
                        sample_fmt: fltp
                        sample_rate: '48000'
                        channels: 2
                        channel_layout: stereo
                        bits_per_sample: 0
                        r_frame_rate: 0/0
                        avg_frame_rate: 0/0
                        time_base: 1/90000
                        start_pts: 8122326468
                        start_time: '90248.071867'
                        disposition:
                          default: 0
                          dub: 0
                          original: 0
                          comment: 0
                          lyrics: 0
                          karaoke: 0
                          forced: 0
                          hearing_impaired: 0
                          visual_impaired: 0
                          clean_effects: 0
                          attached_pic: 0
                          timed_thumbnails: 0
                          captions: 0
                          descriptions: 0
                          metadata: 0
                          dependent: 0
                          still_image: 0
                        tags:
                          variant_bitrate: '1500000'
                streams:
                  - index: 0
                    codec_name: timed_id3
                    codec_long_name: timed ID3 metadata
                    codec_type: data
                    codec_tag_string: 'ID3 '
                    codec_tag: '0x20334449'
                    r_frame_rate: 0/0
                    avg_frame_rate: 0/0
                    time_base: 1/90000
                    disposition:
                      default: 0
                      dub: 0
                      original: 0
                      comment: 0
                      lyrics: 0
                      karaoke: 0
                      forced: 0
                      hearing_impaired: 0
                      visual_impaired: 0
                      clean_effects: 0
                      attached_pic: 0
                      timed_thumbnails: 0
                      captions: 0
                      descriptions: 0
                      metadata: 0
                      dependent: 0
                      still_image: 0
                    tags:
                      variant_bitrate: '1000000'
                  - index: 1
                    codec_name: h264
                    codec_long_name: H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10
                    codec_type: video
                    codec_tag_string: '[27][0][0][0]'
                    codec_tag: '0x001b'
                    width: 0
                    height: 0
                    coded_width: 0
                    coded_height: 0
                    closed_captions: 0
                    film_grain: 0
                    has_b_frames: 0
                    level: -99
                    refs: 1
                    is_avc: 'false'
                    nal_length_size: '0'
                    r_frame_rate: 90000/1
                    avg_frame_rate: 0/0
                    time_base: 1/90000
                    disposition:
                      default: 0
                      dub: 0
                      original: 0
                      comment: 0
                      lyrics: 0
                      karaoke: 0
                      forced: 0
                      hearing_impaired: 0
                      visual_impaired: 0
                      clean_effects: 0
                      attached_pic: 0
                      timed_thumbnails: 0
                      captions: 0
                      descriptions: 0
                      metadata: 0
                      dependent: 0
                      still_image: 0
                    tags:
                      variant_bitrate: '1000000'
                  - index: 2
                    codec_name: aac
                    codec_long_name: AAC (Advanced Audio Coding)
                    codec_type: audio
                    codec_tag_string: '[15][0][0][0]'
                    codec_tag: '0x000f'
                    sample_fmt: fltp
                    sample_rate: '0'
                    channels: 0
                    bits_per_sample: 0
                    r_frame_rate: 0/0
                    avg_frame_rate: 0/0
                    time_base: 1/90000
                    disposition:
                      default: 0
                      dub: 0
                      original: 0
                      comment: 0
                      lyrics: 0
                      karaoke: 0
                      forced: 0
                      hearing_impaired: 0
                      visual_impaired: 0
                      clean_effects: 0
                      attached_pic: 0
                      timed_thumbnails: 0
                      captions: 0
                      descriptions: 0
                      metadata: 0
                      dependent: 0
                      still_image: 0
                    tags:
                      variant_bitrate: '1000000'
                  - index: 3
                    codec_name: timed_id3
                    codec_long_name: timed ID3 metadata
                    codec_type: data
                    codec_tag_string: 'ID3 '
                    codec_tag: '0x20334449'
                    r_frame_rate: 0/0
                    avg_frame_rate: 0/0
                    time_base: 1/90000
                    disposition:
                      default: 0
                      dub: 0
                      original: 0
                      comment: 0
                      lyrics: 0
                      karaoke: 0
                      forced: 0
                      hearing_impaired: 0
                      visual_impaired: 0
                      clean_effects: 0
                      attached_pic: 0
                      timed_thumbnails: 0
                      captions: 0
                      descriptions: 0
                      metadata: 0
                      dependent: 0
                      still_image: 0
                    tags:
                      variant_bitrate: '500000'
                  - index: 4
                    codec_name: h264
                    codec_long_name: H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10
                    profile: Constrained Baseline
                    codec_type: video
                    codec_tag_string: '[27][0][0][0]'
                    codec_tag: '0x001b'
                    width: 420
                    height: 240
                    coded_width: 420
                    coded_height: 240
                    closed_captions: 0
                    film_grain: 0
                    has_b_frames: 1
                    pix_fmt: yuv420p
                    level: 31
                    chroma_location: left
                    refs: 1
                    is_avc: 'false'
                    nal_length_size: '0'
                    r_frame_rate: 25/1
                    avg_frame_rate: 25/1
                    time_base: 1/90000
                    start_pts: 8122327728
                    start_time: '90248.085867'
                    bits_per_raw_sample: '8'
                    extradata_size: 47
                    disposition:
                      default: 0
                      dub: 0
                      original: 0
                      comment: 0
                      lyrics: 0
                      karaoke: 0
                      forced: 0
                      hearing_impaired: 0
                      visual_impaired: 0
                      clean_effects: 0
                      attached_pic: 0
                      timed_thumbnails: 0
                      captions: 0
                      descriptions: 0
                      metadata: 0
                      dependent: 0
                      still_image: 0
                    tags:
                      variant_bitrate: '500000'
                  - index: 5
                    codec_name: aac
                    codec_long_name: AAC (Advanced Audio Coding)
                    profile: LC
                    codec_type: audio
                    codec_tag_string: '[15][0][0][0]'
                    codec_tag: '0x000f'
                    sample_fmt: fltp
                    sample_rate: '48000'
                    channels: 2
                    channel_layout: stereo
                    bits_per_sample: 0
                    r_frame_rate: 0/0
                    avg_frame_rate: 0/0
                    time_base: 1/90000
                    start_pts: 8122324398
                    start_time: '90248.048867'
                    disposition:
                      default: 0
                      dub: 0
                      original: 0
                      comment: 0
                      lyrics: 0
                      karaoke: 0
                      forced: 0
                      hearing_impaired: 0
                      visual_impaired: 0
                      clean_effects: 0
                      attached_pic: 0
                      timed_thumbnails: 0
                      captions: 0
                      descriptions: 0
                      metadata: 0
                      dependent: 0
                      still_image: 0
                    tags:
                      variant_bitrate: '500000'
                  - index: 6
                    codec_name: timed_id3
                    codec_long_name: timed ID3 metadata
                    codec_type: data
                    codec_tag_string: 'ID3 '
                    codec_tag: '0x20334449'
                    r_frame_rate: 0/0
                    avg_frame_rate: 0/0
                    time_base: 1/90000
                    disposition:
                      default: 0
                      dub: 0
                      original: 0
                      comment: 0
                      lyrics: 0
                      karaoke: 0
                      forced: 0
                      hearing_impaired: 0
                      visual_impaired: 0
                      clean_effects: 0
                      attached_pic: 0
                      timed_thumbnails: 0
                      captions: 0
                      descriptions: 0
                      metadata: 0
                      dependent: 0
                      still_image: 0
                    tags:
                      variant_bitrate: '1500000'
                  - index: 7
                    codec_name: h264
                    codec_long_name: H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10
                    profile: Main
                    codec_type: video
                    codec_tag_string: '[27][0][0][0]'
                    codec_tag: '0x001b'
                    width: 1024
                    height: 576
                    coded_width: 1024
                    coded_height: 576
                    closed_captions: 0
                    film_grain: 0
                    has_b_frames: 1
                    pix_fmt: yuv420p
                    level: 31
                    chroma_location: left
                    refs: 1
                    is_avc: 'false'
                    nal_length_size: '0'
                    r_frame_rate: 25/1
                    avg_frame_rate: 25/1
                    time_base: 1/90000
                    start_pts: 8122329618
                    start_time: '90248.106867'
                    bits_per_raw_sample: '8'
                    extradata_size: 48
                    disposition:
                      default: 0
                      dub: 0
                      original: 0
                      comment: 0
                      lyrics: 0
                      karaoke: 0
                      forced: 0
                      hearing_impaired: 0
                      visual_impaired: 0
                      clean_effects: 0
                      attached_pic: 0
                      timed_thumbnails: 0
                      captions: 0
                      descriptions: 0
                      metadata: 0
                      dependent: 0
                      still_image: 0
                    tags:
                      variant_bitrate: '1500000'
                  - index: 8
                    codec_name: aac
                    codec_long_name: AAC (Advanced Audio Coding)
                    profile: LC
                    codec_type: audio
                    codec_tag_string: '[15][0][0][0]'
                    codec_tag: '0x000f'
                    sample_fmt: fltp
                    sample_rate: '48000'
                    channels: 2
                    channel_layout: stereo
                    bits_per_sample: 0
                    r_frame_rate: 0/0
                    avg_frame_rate: 0/0
                    time_base: 1/90000
                    start_pts: 8122326468
                    start_time: '90248.071867'
                    disposition:
                      default: 0
                      dub: 0
                      original: 0
                      comment: 0
                      lyrics: 0
                      karaoke: 0
                      forced: 0
                      hearing_impaired: 0
                      visual_impaired: 0
                      clean_effects: 0
                      attached_pic: 0
                      timed_thumbnails: 0
                      captions: 0
                      descriptions: 0
                      metadata: 0
                      dependent: 0
                      still_image: 0
                    tags:
                      variant_bitrate: '1500000'
                format:
                  filename: 'https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8'
                  nb_streams: 9
                  nb_programs: 3
                  format_name: hls
                  format_long_name: Apple HTTP Live Streaming
                  start_time: '90248.048867'
                  size: '203'
                  probe_score: 100
  /api/killProcess:
    post:
      tags:
        - process
      summary: kill process
      description: kill process related to streamproxy
      requestBody:
        content:
          application/json:
            schema:
              type: object
              x-examples:
                example-1:
                  PID: 14660
              properties:
                PID:
                  type: integer
                  description: process pid to kill
              required:
                - PID
            examples:
              example:
                value:
                  PID: 14660
      security:
        - basicAuth: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                message: requested the SO to kill process undefined
              examples:
                example:
                  value:
                    message: requested the SO to kill process undefined
  /api/streamserver:
    get:
      tags:
        - Stream Server
      summary: retrieve a list of livestreams
      description: get a list of streamservers created
      security:
        - basicAuth: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    streamname:
                      type: string
                    streammethod:
                      type: string
                    streamdescription:
                      type: string
                    channelnumber:
                      type: string
                    url:
                      type: string
                    streamprovider:
                      type: string
                    videoformat:
                      type: string
                    videocodec:
                      type: string
                    framesize:
                      type: string
                    framerate:
                      type: string
                    audiocodec:
                      type: string
                    title:
                      type: string
                    logourl:
                      type: string
                    type:
                      type: string
                    status:
                      type: string
                    dataTransfered:
                      type: string
                    connections:
                      type: integer
                x-examples:
                  example-1:
                    - streamname: extremadura
                      streammethod: /videostream/streamlink
                      streamdescription: canal extremadura
                      channelnumber: '120'
                      url: 'https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8'
                      streamprovider: ''
                      videoformat: ''
                      videocodec: ''
                      framesize: ''
                      framerate: ''
                      audiocodec: ''
                      title: ''
                      logourl: ''
                      type: tv
                      status: stopped
                      dataTransfered: 0 bytes
                      connections: 0
              example:
                - streamname: extremadura
                  streammethod: /videostream/streamlink
                  streamdescription: canal extremadura
                  channelnumber: '120'
                  url: 'https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8'
                  streamprovider: ''
                  videoformat: ''
                  videocodec: ''
                  framesize: ''
                  framerate: ''
                  audiocodec: ''
                  title: ''
                  logourl: ''
                  type: tv
                  status: stopped
                  dataTransfered: 0 bytes
                  connections: 0
    post:
      tags:
        - Stream Server
      summary: create a new livestream
      description: create a streamserver
      requestBody:
        content:
          application/json:
            schema:
              type: object
              x-examples:
                example-1:
                  streamname: exemplostreamserver
                  streammethod: /videostream/ffmpeg
                  streamdescription: exemplo de streamserver
                  channelnumber: '115'
                  url: 'http://livestream.com/'
                  streamprovider: myprovider
                  videoformat: mpeg-ts
                  videocodec: mpeg2
                  framesize: 1920x1080
                  framerate: '60'
                  audiocodec: mp3
                  title: ''
                  logourl: 'http://logourl.com/image.jpg'
              properties:
                streamname:
                  type: string
                  description: streamname
                streammethod:
                  type: string
                  description: stream method
                  enum:
                    - /videostream/streamlink
                    - /videostream/ffmpeg
                    - /videostream/play
                    - /audiostream/play
                streamdescription:
                  type: string
                  description: description of streamserver
                channelnumber:
                  type: string
                  description: channel number (chno of playlist)
                url:
                  type: string
                  description: url of streamserver
                streamprovider:
                  type: string
                  description: provider of streamserver
                videoformat:
                  type: string
                  description: videoformat of streamserver
                videocodec:
                  type: string
                  description: videocodec of streamserver
                framesize:
                  type: string
                  description: framesize of streamserver
                framerate:
                  type: string
                  description: framerate of streamserver
                audiocodec:
                  type: string
                  description: audiocodec of streamserver
                title:
                  type: string
                  description: title (in case of audiostream)
                logourl:
                  type: string
                  description: url for logo of streamserver
              required:
                - streamname
                - streammethod
                - url
            examples:
              example:
                value:
                  streamname: exemplostreamserver
                  streammethod: /videostream/ffmpeg
                  streamdescription: exemplo de streamserver
                  channelnumber: '115'
                  url: 'http://livestream.com/'
                  streamprovider: myprovider
                  videoformat: mpeg-ts
                  videocodec: mpeg2
                  framesize: 1920x1080
                  framerate: '60'
                  audiocodec: mp3
                  title: ''
                  logourl: 'http://logourl.com/image.jpg'
      security:
        - basicAuth: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  streamadded:
                    type: boolean
                  message:
                    type: string
                x-examples:
                  example-1:
                    streamadded: true
                    message: Streamserver exemplostreamserver has created
              example:
                streamadded: true
                message: Streamserver exemplostreamserver has created
    put:
      tags:
        - Stream Server
      summary: change a streamserver
      description: change a streamserver
      requestBody:
        content:
          application/json:
            schema:
              type: object
              x-examples:
                example-1:
                  streamname: exemplostreamserver
                  streammethod: /videostream/ffmpeg
                  streamdescription: exemplo de streamserver2
                  channelnumber: '115'
                  url: 'http://livestream.com/'
                  streamprovider: myprovider
                  videoformat: mpeg-ts
                  videocodec: mpeg2
                  framesize: 1920x1080
                  framerate: '60'
                  audiocodec: mp3
                  title: ''
                  logourl: 'http://logourl.com/image.jpg'
              properties:
                streamname:
                  type: string
                  description: streamname
                streammethod:
                  type: string
                  description: stream method
                  enum:
                    - /videostream/streamlink
                    - /videostream/ffmpeg
                    - /videostream/play
                    - /audiostream/play
                streamdescription:
                  type: string
                  description: description of streamserver
                channelnumber:
                  type: string
                  description: channel number (chno of playlist)
                url:
                  type: string
                  description: url of streamserver
                streamprovider:
                  type: string
                  description: provider of streamserver
                videoformat:
                  type: string
                  description: videoformat of streamserver
                videocodec:
                  type: string
                  description: videocodec of streamserver
                framesize:
                  type: string
                  description: framesize of streamserver
                framerate:
                  type: string
                  description: framerate of streamserver
                audiocodec:
                  type: string
                  description: audiocodec of streamserver
                title:
                  type: string
                  description: title (in case of audiostream)
                logourl:
                  type: string
                  description: url for logo of streamserver
              required:
                - streamname
            examples:
              example:
                value:
                  streamname: exemplostreamserver
                  streammethod: /videostream/ffmpeg
                  streamdescription: exemplo de streamserver2
                  channelnumber: '115'
                  url: 'http://livestream.com/'
                  streamprovider: myprovider
                  videoformat: mpeg-ts
                  videocodec: mpeg2
                  framesize: 1920x1080
                  framerate: '60'
                  audiocodec: mp3
                  title: ''
                  logourl: 'http://logourl.com/image.jpg'
      security:
        - basicAuth: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  streamchanged:
                    type: boolean
                  message:
                    type: string
                x-examples:
                  example-1:
                    streamchanged: true
                    message: Streamserver exemplostreamserver has changed
              example:
                streamchanged: true
                message: Streamserver exemplostreamserver has changed
    delete:
      tags:
        - Stream Server
      summary: delete a streamserver
      description: delete a streamserver
      security:
        - basicAuth: []
      parameters:
        - name: streamname
          in: header
          schema:
            type: string
          description: streamserver to delete
          example: teste3
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  streamdeleted:
                    type: boolean
                  message:
                    type: string
                x-examples:
                  example-1:
                    streamdeleted: true
                    message: Streamserver exemplostreamserver has deleted
              example:
                streamdeleted: true
                message: Streamserver exemplostreamserver has deleted
  /api/streamserver/status:
    get:
      tags:
        - Stream Server
      summary: get users connected on streamsevers
      description: list of connections of streamservers
      security:
        - basicAuth: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                x-examples:
                  example-1:
                    - UUID: ee8176b1-d5cd-4ee1-bfda-bd37d16388ff
                      streamname: extremadura
                      pid: 0
                      user: anonymous
                      client:
                        ip: '::1'
                        isMobile: false
                        isAndroid: false
                        isDesktop: false
                        isLinux: false
                        isWindows: false
                        isBot: false
                        browser: Lavf
                        version: 59.16.100
                        os: unknown
                        platform: unknown
                        source: Lavf/59.16.100
                items:
                  type: object
                  properties:
                    UUID:
                      type: string
                      description: unique identification of user
                    streamname:
                      type: string
                      description: streamserver name
                    pid:
                      type: integer
                      description: PID of streamserver
                    user:
                      type: string
                      description: username
                    client:
                      type: object
                      properties:
                        ip:
                          type: string
                          description: ip of client
                        isMobile:
                          type: boolean
                        isAndroid:
                          type: boolean
                        isDesktop:
                          type: boolean
                        isLinux:
                          type: boolean
                        isWindows:
                          type: boolean
                        isBot:
                          type: boolean
                        browser:
                          type: string
                        version:
                          type: string
                        os:
                          type: string
                        platform:
                          type: string
                        source:
                          type: string
              example:
                - UUID: ee8176b1-d5cd-4ee1-bfda-bd37d16388ff
                  streamname: extremadura
                  pid: 0
                  user: anonymous
                  client:
                    ip: '::1'
                    isMobile: false
                    isAndroid: false
                    isDesktop: false
                    isLinux: false
                    isWindows: false
                    isBot: false
                    browser: Lavf
                    version: 59.16.100
                    os: unknown
                    platform: unknown
                    source: Lavf/59.16.100
  /api/streamserver/start:
    post:
      tags:
        - Stream Server
      summary: start a streamserver
      description: start a streamserver
      requestBody:
        content:
          application/json:
            schema:
              type: object
              x-examples:
                example-1:
                  streamname: extremadura
              properties:
                streamname:
                  type: string
              required:
                - streamname
            examples:
              example:
                value:
                  streamname: extremadura
      security:
        - basicAuth: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                x-examples:
                  example-1:
                    status: ok
                    message: process executed asynchronous
              example:
                status: ok
                message: process executed asynchronous
  /api/streamserver/stop:
    post:
      tags:
        - Stream Server
      summary: stop streamserver
      description: stop a streamserver
      requestBody:
        content:
          application/json:
            schema:
              type: object
              x-examples:
                example-1:
                  streamname: extremadura
              properties:
                streamname:
                  type: string
              required:
                - streamname
            examples:
              example:
                value:
                  streamname: extremadura
      security:
        - basicAuth: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                x-examples:
                  example-1:
                    status: stopped
                    message: process (PID) 19264 and your childs has killed
              example:
                status: stopped
                message: process (PID) 19264 and your childs has killed
  /api/log:
    get:
      tags:
        - log
      summary: retrieve the logs of streamproxy
      description: get the log of streamproxy
      security:
        - basicAuth: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
                x-examples:
                  example-1:
                    - Streamserver exemplostreamserver has created
                    - stream server &streamserver=exemplostreamserver has started
                    - ''
                    - ''
                    - '*******************************************************************************************************'
                    - 'http://livestream.com/'
                    - '*******************************************************************************************************'
                    - ''
                    - 'opening connect to stream in url http://livestream.com/ from ::ffff:127.0.0.1'
                    - added process 29768 to status
                    - 'running ffmpeg app (PID 29768) [ffmpeg -loglevel error -i http://livestream.com/ -vcodec mpeg2 -acodec mp3 -s 1920x1080 -r 60 -b 15000k -strict -2 -mbd rd -copyinkf -flags +ilme+ildct -fflags +genpts -metadata service_provider="streamproxy" -metadata service_name="exemplo%20de%20streamserver" -f mpeg-ts -tune zerolatency -]'
                    - "http://livestream.com/: Invalid data found when processing input\r\n"
                    - remove process 29768 from status
                    - 'close stop of PID 29768, code 1, signal null'
                    - remove process 29768 from status
                    - stream server &streamserver=exemplostreamserver has started
                    - ''
                    - ''
                    - '*******************************************************************************************************'
                    - 'http://livestream.com/'
                    - '*******************************************************************************************************'
                    - ''
                    - 'opening connect to stream in url http://livestream.com/ from ::ffff:127.0.0.1'
                    - added process 17160 to status
                    - 'running ffmpeg app (PID 17160) [ffmpeg -loglevel error -i http://livestream.com/ -vcodec mpeg2 -acodec mp3 -s 1920x1080 -r 60 -b 15000k -strict -2 -mbd rd -copyinkf -flags +ilme+ildct -fflags +genpts -metadata service_provider="streamproxy" -metadata service_name="exemplo%20de%20streamserver" -f mpeg-ts -tune zerolatency -]'
                    - "http://livestream.com/: Invalid data found when processing input\r\n"
                    - remove process 17160 from status
                    - 'close stop of PID 17160, code 1, signal null'
                    - remove process 17160 from status
                    - 'streamserver exemplostreamserver change requested from ::1, json data: {"streamname":"exemplostreamserver","streammethod":"/videostream/ffmpeg","streamdescription":"exemplo de streamserver2","channelnumber":"115","url":"http://livestream.com/","streamprovider":"myprovider","videoformat":"mpeg-ts","videocodec":"mpeg2","framesize":"1920x1080","framerate":"60","audiocodec":"mp3","title":"","logourl":"http://logourl.com/image.jpg"}'
                    - field streamname changed to exemplostreamserver
                    - field streammethod changed to /videostream/ffmpeg
                    - field streamdescription changed to exemplo de streamserver2
                    - field channelnumber changed to 115
                    - 'field url changed to http://livestream.com/'
                    - field streamprovider changed to myprovider
                    - field videoformat changed to mpeg-ts
                    - field videocodec changed to mpeg2
                    - field framesize changed to 1920x1080
                    - field framerate changed to 60
                    - field audiocodec changed to mp3
                    - 'field title changed to '
                    - 'field logourl changed to http://logourl.com/image.jpg'
                    - field type changed to tv
                    - Streamserver exemplostreamserver has changed
                    - ' error on trying to stop stream server exemplostreamserver stream server not found'
                    - stream server &streamserver=exemplostreamserver has started
                    - ''
                    - ''
                    - '*******************************************************************************************************'
                    - 'http://livestream.com/'
                    - '*******************************************************************************************************'
                    - ''
                    - 'opening connect to stream in url http://livestream.com/ from ::ffff:127.0.0.1'
                    - added process 3956 to status
                    - 'running ffmpeg app (PID 3956) [ffmpeg -loglevel error -i http://livestream.com/ -vcodec mpeg2 -acodec mp3 -s 1920x1080 -r 60 -b 15000k -strict -2 -mbd rd -copyinkf -flags +ilme+ildct -fflags +genpts -metadata service_provider="streamproxy" -metadata service_name="exemplo%20de%20streamserver2" -f mpeg-ts -tune zerolatency -]'
                    - "http://livestream.com/: Invalid data found when processing input\r\n"
                    - remove process 3956 from status
                    - 'close stop of PID 3956, code 1, signal null'
                    - remove process 3956 from status
                    - ' error on trying to stop stream server exemplostreamserver stream server not found'
                    - Streamserver extremadura has created
                    - stream server &streamserver=extremadura has started
                    - ''
                    - ''
                    - '*******************************************************************************************************'
                    - 'https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8'
                    - '*******************************************************************************************************'
                    - ''
                    - 'opening connect to stream in url https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8 from ::ffff:127.0.0.1'
                    - added process 15468 to status
                    - 'running streamlink app (PID 15468) [streamlink https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8 best -l error --stdout]'
                    - process 16356 killed
                    - process 15468 killed
                    - stream server extremadura stopped
                    - remove process 15468 from status
                    - 'close stop of PID 15468, code 1, signal null'
                    - remove process 15468 from status
                    - stream server &streamserver=extremadura has started
                    - ''
                    - ''
                    - '*******************************************************************************************************'
                    - 'https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8'
                    - '*******************************************************************************************************'
                    - ''
                    - 'opening connect to stream in url https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8 from ::ffff:127.0.0.1'
                    - added process 19264 to status
                    - 'running streamlink app (PID 19264) [streamlink https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8 best -l error --stdout]'
                    - process 10304 killed
                    - process 19264 killed
                    - stream server extremadura stopped
                    - remove process 19264 from status
                    - 'close stop of PID 19264, code 1, signal null'
                    - remove process 19264 from status
              example:
                - Streamserver exemplostreamserver has created
                - stream server &streamserver=exemplostreamserver has started
                - ''
                - ''
                - '*******************************************************************************************************'
                - 'http://livestream.com/'
                - '*******************************************************************************************************'
                - ''
                - 'opening connect to stream in url http://livestream.com/ from ::ffff:127.0.0.1'
                - added process 29768 to status
                - 'running ffmpeg app (PID 29768) [ffmpeg -loglevel error -i http://livestream.com/ -vcodec mpeg2 -acodec mp3 -s 1920x1080 -r 60 -b 15000k -strict -2 -mbd rd -copyinkf -flags +ilme+ildct -fflags +genpts -metadata service_provider="streamproxy" -metadata service_name="exemplo%20de%20streamserver" -f mpeg-ts -tune zerolatency -]'
                - "http://livestream.com/: Invalid data found when processing input\r\n"
                - remove process 29768 from status
                - 'close stop of PID 29768, code 1, signal null'
                - remove process 29768 from status
                - stream server &streamserver=exemplostreamserver has started
                - ''
                - ''
                - '*******************************************************************************************************'
                - 'http://livestream.com/'
                - '*******************************************************************************************************'
                - ''
                - 'opening connect to stream in url http://livestream.com/ from ::ffff:127.0.0.1'
                - added process 17160 to status
                - 'running ffmpeg app (PID 17160) [ffmpeg -loglevel error -i http://livestream.com/ -vcodec mpeg2 -acodec mp3 -s 1920x1080 -r 60 -b 15000k -strict -2 -mbd rd -copyinkf -flags +ilme+ildct -fflags +genpts -metadata service_provider="streamproxy" -metadata service_name="exemplo%20de%20streamserver" -f mpeg-ts -tune zerolatency -]'
                - "http://livestream.com/: Invalid data found when processing input\r\n"
                - remove process 17160 from status
                - 'close stop of PID 17160, code 1, signal null'
                - remove process 17160 from status
                - 'streamserver exemplostreamserver change requested from ::1, json data: {"streamname":"exemplostreamserver","streammethod":"/videostream/ffmpeg","streamdescription":"exemplo de streamserver2","channelnumber":"115","url":"http://livestream.com/","streamprovider":"myprovider","videoformat":"mpeg-ts","videocodec":"mpeg2","framesize":"1920x1080","framerate":"60","audiocodec":"mp3","title":"","logourl":"http://logourl.com/image.jpg"}'
                - field streamname changed to exemplostreamserver
                - field streammethod changed to /videostream/ffmpeg
                - field streamdescription changed to exemplo de streamserver2
                - field channelnumber changed to 115
                - 'field url changed to http://livestream.com/'
                - field streamprovider changed to myprovider
                - field videoformat changed to mpeg-ts
                - field videocodec changed to mpeg2
                - field framesize changed to 1920x1080
                - field framerate changed to 60
                - field audiocodec changed to mp3
                - 'field title changed to '
                - 'field logourl changed to http://logourl.com/image.jpg'
                - field type changed to tv
                - Streamserver exemplostreamserver has changed
                - ' error on trying to stop stream server exemplostreamserver stream server not found'
                - stream server &streamserver=exemplostreamserver has started
                - ''
                - ''
                - '*******************************************************************************************************'
                - 'http://livestream.com/'
                - '*******************************************************************************************************'
                - ''
                - 'opening connect to stream in url http://livestream.com/ from ::ffff:127.0.0.1'
                - added process 3956 to status
                - 'running ffmpeg app (PID 3956) [ffmpeg -loglevel error -i http://livestream.com/ -vcodec mpeg2 -acodec mp3 -s 1920x1080 -r 60 -b 15000k -strict -2 -mbd rd -copyinkf -flags +ilme+ildct -fflags +genpts -metadata service_provider="streamproxy" -metadata service_name="exemplo%20de%20streamserver2" -f mpeg-ts -tune zerolatency -]'
                - "http://livestream.com/: Invalid data found when processing input\r\n"
                - remove process 3956 from status
                - 'close stop of PID 3956, code 1, signal null'
                - remove process 3956 from status
                - ' error on trying to stop stream server exemplostreamserver stream server not found'
                - Streamserver extremadura has created
                - stream server &streamserver=extremadura has started
                - ''
                - ''
                - '*******************************************************************************************************'
                - 'https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8'
                - '*******************************************************************************************************'
                - ''
                - 'opening connect to stream in url https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8 from ::ffff:127.0.0.1'
                - added process 15468 to status
                - 'running streamlink app (PID 15468) [streamlink https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8 best -l error --stdout]'
                - process 16356 killed
                - process 15468 killed
                - stream server extremadura stopped
                - remove process 15468 from status
                - 'close stop of PID 15468, code 1, signal null'
                - remove process 15468 from status
                - stream server &streamserver=extremadura has started
                - ''
                - ''
                - '*******************************************************************************************************'
                - 'https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8'
                - '*******************************************************************************************************'
                - ''
                - 'opening connect to stream in url https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8 from ::ffff:127.0.0.1'
                - added process 19264 to status
                - 'running streamlink app (PID 19264) [streamlink https://cdnlive.shooowit.net/canalextremaduralive/smil:channel1DVR.smil/playlist.m3u8 best -l error --stdout]'
                - process 10304 killed
                - process 19264 killed
                - stream server extremadura stopped
                - remove process 19264 from status
                - 'close stop of PID 19264, code 1, signal null'
                - remove process 19264 from status
  /api/users:
    get:
      tags:
        - user
      summary: retrieve a list of users of streamproxy
      security:
        - basicAuth: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    username:
                      type: string
                    password:
                      type: string
                    fullname:
                      type: string
                    authorizations:
                      type: object
                      properties:
                        basic:
                          type: boolean
                        basicWatchers:
                          type: boolean
                        streamserverWatchersbasic:
                          type: boolean
                        playlistdownloader:
                          type: boolean
                        streamserverWatchersfull:
                          type: boolean
                        administrator:
                          type: boolean
                x-examples:
                  example-1:
                    - username: anonymous
                      password: ''
                      fullname: Anonymous
                      authorizations:
                        basic: false
                        basicWatchers: false
                        streamserverWatchersbasic: false
                        playlistdownloader: false
                        streamserverWatchersfull: false
                        administrator: true
                    - username: admin
                      password: d033e22ae348aeb5660fc2140aec35850c4da997
                      fullname: Administrator
                      authorizations:
                        administrator: true
              example:
                - username: anonymous
                  password: ''
                  fullname: Anonymous
                  authorizations:
                    basic: false
                    basicWatchers: false
                    streamserverWatchersbasic: false
                    playlistdownloader: false
                    streamserverWatchersfull: false
                    administrator: true
                - username: admin
                  password: d033e22ae348aeb5660fc2140aec35850c4da997
                  fullname: Administrator
                  authorizations:
                    administrator: true
      description: get a list of users
    post:
      tags:
        - user
      summary: create a new user
      requestBody:
        content:
          application/json:
            schema:
              type: object
              x-examples:
                example-1:
                  username: teste3
                  fullname: Teste 3
                  password: teste3
                  authorizations:
                    basic: true
                    basicWatchers: true
                    streamserverWatchersbasic: false
                    playlistdownloader: false
                    streamserverWatchersfull: false
                    administrator: false
              properties:
                username:
                  type: string
                  description: username
                fullname:
                  type: string
                  description: full name
                password:
                  type: string
                  description: password
                authorizations:
                  type: object
                  description: authorizations of user
                  properties:
                    basic:
                      type: boolean
                    basicWatchers:
                      type: boolean
                    streamserverWatchersbasic:
                      type: boolean
                    playlistdownloader:
                      type: boolean
                    streamserverWatchersfull:
                      type: boolean
                    administrator:
                      type: boolean
              required:
                - username
                - fullname
                - password
            examples:
              example:
                value:
                  username: teste3
                  fullname: Teste 3
                  password: teste3
                  authorizations:
                    basic: true
                    basicWatchers: true
                    streamserverWatchersbasic: false
                    playlistdownloader: false
                    streamserverWatchersfull: false
                    administrator: false
      security:
        - basicAuth: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  useradded:
                    type: boolean
                  message:
                    type: string
                x-examples:
                  example-1:
                    useradded: true
                    message: user teste3 was created
              example:
                useradded: true
                message: user teste3 was created
    put:
      tags:
        - user
      summary: change a user
      requestBody:
        content:
          application/json:
            schema:
              type: object
              x-examples:
                example-1:
                  username: teste3
                  fullname: Teste 332
                  authorizations:
                    basic: true
              properties:
                username:
                  type: string
                  description: username
                fullname:
                  type: string
                  description: full name
                authorizations:
                  type: object
                  description: authorizations of user
                  properties:
                    basic:
                      type: boolean
              required:
                - username
            examples:
              example:
                value:
                  username: teste3
                  fullname: Teste 332
                  authorizations:
                    basic: true
      security:
        - basicAuth: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  userchanged:
                    type: boolean
                  message:
                    type: string
                x-examples:
                  example-1:
                    userchanged: true
                    message: user teste3 has been updated
              example:
                userchanged: true
                message: user teste3 has been updated
    delete:
      tags:
        - user
      summary: delete a user
      security:
        - basicAuth: []
      parameters:
        - name: username
          in: header
          schema:
            type: string
          description: user to delete
          example: teste3
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  userdeleted:
                    type: boolean
                  message:
                    type: string
                x-examples:
                  example-1:
                    userdeleted: true
                    message: user teste3 has been deleted
              example:
                userdeleted: true
                message: user teste3 has been deleted
  /api/users/changepassword:
    put:
      tags:
        - user
      summary: change password of logged user
      requestBody:
        content:
          application/json:
            schema:
              type: object
              x-examples:
                example-1:
                  password: teste4
              properties:
                password:
                  type: string
                  description: new password
              required:
                - password
            examples:
              example-1:
                value:
                  password: newpass@123
      security:
        - basicAuth: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  passwordchanged:
                    type: boolean
                x-examples:
                  example-1:
                    passwordchanged: true
              example:
                passwordchanged: true
